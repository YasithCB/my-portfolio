<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Task 2 | Que</title>
</head>

<style>
  #que{
    display: flex;
    gap: 10px;
    margin: 40px;
  }
  #que> div {
    position: relative;
    height: 50px;
    width: 100px;
    gap: 10px;
    border: 1px solid black;
  }
  #que> div> h1{
    text-align: center;
    font-size: 15px;
  }
</style>

<body>
<main class="">
  <form>
    <label for="name">Enter name : </label>
    <input type="text" id="name"><br>

    <label for="color">Select a color : </label>
    <input type="color" id="color"><br>

    <input type="button" value="Add" id="addQue">
  </form>

  <section id="que">

  </section>

</main>

<script src="../../../assets/js/jquery-3.6.1.min.js"></script>
<script>
  let studentsArray = [new Student('Kasun','red'),new Student('Amal','green'),new Student('Kamal','yellow')];
  appendDiv();

  function Student(name,color){
    this.name=name;
    this.color= color;
  }

  $('#addQue').click(function (){
    let student = new Student($("#name").val(),$("#color").val());
    studentsArray.unshift(student);
    console.log(student)
    appendDiv();
  });

  function appendDiv(){
    $('#que').empty();
    for (let st of studentsArray) {
      let div = `<div style="background-color: ${st.color}"><h1>${st.name}</h1></div>`;
      $('#que').append(div);
    }
  }

  function changeOrder(){
    /*let last = studentsArray[studentsArray.length-1];
    for (let i = studentsArray.length-1; i > 0; i--) {
      studentsArray[i]= studentsArray[i-1];
    }
    studentsArray[0] = last;*/
    let last = studentsArray.pop();
    studentsArray.unshift(last)
    appendDiv();
  }

  setInterval(changeOrder,1000);
</script>
</body>
</html>